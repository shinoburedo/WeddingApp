<div id="editWindow"
     data-role="window"
     data-visible="false"
     data-modal="true"
     data-min-width="1000"
     data-width="1200"
     data-min-height="500"
     data-height="640"
     style="display:none;">

    <div id="editDiv">
        <form class="form-horizontal" data-role="validator">
            <div class="form-group">
                <label for="item_cd" class="col-sm-1 control-label required">Code</label>
                <div class="col-sm-3">
                    <input name="item_cd" type="text" data-bind="value: model.item_cd, enabled: isCodeEditable"
                           maxlength="15" required
                           class="form-control input-sm k-input k-textbox toupper tohankaku" />
                </div>
                @*<label for="item_fit" class="col-sm-offset-2 col-sm-1 control-label">FIT</label>
                <div class="col-sm-2">
                    <input name="item_fit" type="text" data-bind="value: model.item_fit"
                           maxlength="4"
                           class="form-control input-sm k-input k-textbox tohankaku" />
                </div>*@
            </div>

            <div class="form-group">
                <label for="item_name" class="col-sm-1 control-label">Name Eng</label>
                <div class="col-sm-12">
                    <input name="item_name" type="text" data-bind="value: model.item_name" maxlength="100"
                           class="form-control input-sm k-input k-textbox tohankaku" />
                </div>
            </div>

            <div class="form-group">
                <label for="item_name_jpn" class="col-sm-1 control-label">Name Jpn</label>
                <div class="col-sm-14">
                    <input name="item_name_jpn" type="text" data-bind="value: model.item_name_jpn" maxlength="200"
                           class="form-control input-sm k-input k-textbox " />
                </div>
            </div>

            <div class="form-group">
                <label for="area_cd" class="col-sm-1 control-label">Item Type</label>
                <div class="col-sm-1">
                    <input type="text" name="item_type"
                           maxlength="3"
                           placeholder=""
                           class="form-control input-sm toupper tohankaku select-itemtype"
                           style="width:95%;"
                           data-height="300"
                           data-bind="value: model.item_type" />
                </div>
                <label for="discon_date" class="col-sm-2 control-label">Discon Date</label>
                <div class="col-sm-3">
                    <input name="discon_date" type="text"
                           style="width:100px;" maxlength="10"
                           data-role="datepicker"
                           data-bind="value: model.discon_date"
                           class="form-control input-sm tohankaku " />
                </div>
                <label for="auto_ok" class="col-sm-1 control-label">Auto OK</label>
                <div class="col-sm-1">
                    <input name="auto_ok" type="checkbox" data-bind="checked: model.auto_ok" />
                </div>
                <label for="special" class="col-sm-1 control-label">Special</label>
                <div class="col-sm-1">
                    <input name="special" type="checkbox" data-bind="checked: model.special" />
                </div>
                <label for="selective" class="col-sm-1 control-label">Selective</label>
                <div class="col-sm-1">
                    <input name="selective" type="checkbox" data-bind="checked: model.selective" />
                </div>
            </div>

            <div class="form-group">
                <label for="church_cd" class="col-sm-1 control-label">ChurchCd</label>
                <div class="col-sm-2">
                    <input type="text" name="church_cd"
                           maxlength="5"
                           placeholder=""
                           class="form-control input-sm toupper tohankaku select-church"
                           style="width:95%;"
                           data-height="300"
                           data-bind="value: model.church_cd" />
                </div>
                <label for="unit" class="col-sm-1 control-label">Unit</label>
                <div class="col-sm-1">
                    <input name="unit" type="number" data-bind="value: model.unit"
                           class="form-control input-sm k-input k-textbox numeric" />
                </div>
                <label for="abbrev" class="col-sm-1 control-label">Abbrev</label>
                <div class="col-sm-1">
                    <input name="abbrev" type="text" data-bind="value: model.abbrev" maxlength="5"
                           class="form-control input-sm k-input k-textbox toupper tohankaku" />
                </div>
                <label for="open_to_japan" class="col-sm-2 control-label">Open To Japan</label>
                <div class="col-sm-1">
                    <input name="open_to_japan" type="checkbox" data-bind="checked: model.open_to_japan" />
                </div>
                <label for="rq_default" class="col-sm-2 control-label">Request Default</label>
                <div class="col-sm-1">
                    <input name="rq_default" type="checkbox" data-bind="checked: model.rq_default" />
                </div>
            </div>

            <div class="form-group">
                <label for="note" class="col-sm-1 control-label">Note</label>
                <div class="col-sm-14">
                    <input name="note" type="text" data-bind="value: model.note"
                           class="form-control input-sm k-input k-textbox " />
                </div>
            </div>

            <div class="form-group">
                <ul class="nav nav-tabs nav-tabs-item">
                    <li class="active"><a href="#panPrice" data-toggle="tab">Price</a></li>
                    <li><a href="#panVendorCost" data-toggle="tab">Vendor & Cost</a></li>
                </ul>

                <div class="tab-content">

                    @* ItemPrice Tab *@
                    <div class="tab-pane active" id="panPrice">
                        <div class="toolbar">
                            <button type="button"
                                    class="btn btn-primary"
                                    data-bind="click: onItemPriceNew, enabled:model.item_cd">
                                <span class="glyphicon glyphicon-plus"></span> Add Price
                            </button>
                        </div>

                        <div data-role="grid"
                                data-auto-bind="true"
                                data-bind="source: itemPriceList"
                                data-sortable="true"
                                data-resizable="true"
                                data-selectable="true"
                                data-scrollable="true"
                                data-groupable="false"
                                data-navigatable="false"
                                data-height="270"
                                data-columns="[  {field: 'item_price_id', title: 'ID', width: 50, attributes: ' style=\'text-align:right;\'', hidden: true }
                                , {field: 'agent_cd', title: 'Agent Cd', width: 80 }
                                , {field: 'plan_kind', title: 'Plan Kind', width: 80 }
                                , {field: 'eff_from', title: 'From', format: '{0:MM/dd/yy}' }
                                , {field: 'eff_to', title: 'To', format: '{0:MM/dd/yy}' }
                                , {field: 'gross', title: 'Gross', width: 60, attributes: ' style=\'text-align:right;\''  }
                                , {field: 'd_net', title: 'Net', width: 60, attributes: ' style=\'text-align:right;\''  }
                                , {field: 'y_net', title: 'Y Net', width: 60, attributes: ' style=\'text-align:right;\'', hidden: true  }
                                , {field: 'last_person', title: 'Updated By', hidden:true }
                                , {field: 'update_date', title: 'Update', hidden:true }
                                , {field: 'item_price_id', title: ' ', attributes: ' class=\'col_edit\'', template: '<a data-infoid=\'#=item_price_id#\' class=\'btn btn-sm btn-default k-button k-button-icontext k-grid-edit \' data-bind=\'click:onItemPriceEdit\'><span class=\'k-icon k-edit\'><\/span>Edit<\/a> <a data-infoid=\'#=item_price_id#\' class=\'btn btn-sm btn-default k-button k-button-icontext k-grid-delete \' data-bind=\'click:onItemPriceDelete\'><span class=\'k-icon k-delete\'><\/span>Delete<\/a>'}
                                ]">
                        </div>
                    </div>

                    @* ItemVendor, ItemCost Tab *@
                    <div class="tab-pane" id="panVendorCost" style="height:200px;">
                            <div style="width:50%;float:left;">
                                <div class="toolbar">
                                    <button type="button"
                                            class="btn btn-primary"
                                            data-bind="click: onItemVendorNew, enabled:model.item_cd">
                                        <span class="glyphicon glyphicon-plus"></span> Add Vendor
                                    </button>
                                </div>

                                <div data-role="grid"
                                     id="grdVendor"
                                     data-auto-bind="true"
                                     data-bind="source: itemVendorList, events: {change: onVendorGridChange, dataBound: onVendorDataBound}"
                                     data-sortable="true"
                                     data-resizable="true"
                                     data-selectable="true"
                                     data-scrollable="true"
                                     data-groupable="false"
                                     data-navigatable="false"
                                     data-height="270"
                                     data-columns="[  {field: 'item_vendor_id', title: 'ID', width: 50, attributes: ' style=\'text-align:right;\'', hidden: true }
                                , {field: 'vendor_cd', title: 'Vendor Cd', width: 80 }
                                , {field: 'order_name', title: 'Order Name' }
                                , {field: 'default_vendor', title: 'Default', width: 80 }
                                , {field: 'last_person', title: 'Update By', hidden:true }
                                , {field: 'update_date', title: 'Update', hidden:true }
                                , {field: 'item_vendor_id', title: ' ', attributes: ' class=\'col_edit\'', template: '<a data-infoid=\'#=item_vendor_id#\' class=\'btn btn-sm btn-default k-button k-button-icontext k-grid-edit \' data-bind=\'click:onItemVendorEdit\'><span class=\'k-icon k-edit\'><\/span>Edit<\/a> <a data-infoid=\'#=item_vendor_id#\' class=\'btn btn-sm btn-default k-button k-button-icontext k-grid-delete \' data-bind=\'click:onItemVendorDelete\'><span class=\'k-icon k-delete\'><\/span>Delete<\/a>'}
                                ]">
                                </div>
                            </div>
                            <div style="width:50%;float:right;">
                                <div class="toolbar">
                                    <button type="button"
                                            class="btn btn-primary"
                                            data-bind="click: onItemCostNew, enabled:model.item_cd">
                                        <span class="glyphicon glyphicon-plus"></span> Add Cost
                                    </button>
                                </div>

                                <div data-role="grid"
                                     data-auto-bind="true"
                                     data-bind="source: itemCostList"
                                     data-sortable="true"
                                     data-resizable="true"
                                     data-selectable="true"
                                     data-scrollable="true"
                                     data-groupable="false"
                                     data-navigatable="false"
                                     data-height="270"
                                     data-columns="[  {field: 'item_cost_id', title: 'ID', width: 50, attributes: ' style=\'text-align:right;\'', hidden: true }
                                , {field: 'church_cd', title: 'Church Cd', width: 90 }
                                , {field: 'cost', title: 'Cost', width: 60, attributes: ' style=\'text-align:right;\''  }
                                , {field: 'eff_from', title: 'From', format: '{0:MM/dd/yy}', width: 90 }
                                , {field: 'eff_to', title: 'To', format: '{0:MM/dd/yy}', width: 90 }
                                , {field: 'last_person', title: 'Updated By', hidden:true }
                                , {field: 'update_date', title: 'Update', hidden:true }
                                , {field: 'item_cost_id', title: ' ', attributes: ' class=\'col_edit\'', template: '<a data-infoid=\'#=item_cost_id#\' class=\'btn btn-sm btn-default k-button k-button-icontext k-grid-edit \' data-bind=\'click:onItemCostEdit\'><span class=\'k-icon k-edit\'><\/span>Edit<\/a> <a data-infoid=\'#=item_cost_id#\' class=\'btn btn-sm btn-default k-button k-button-icontext k-grid-delete \' data-bind=\'click:onItemCostDelete\'><span class=\'k-icon k-delete\'><\/span>Delete<\/a>'}
                                ]">
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
            @* Saveボタン、Closeボタン *@
            <div class="buttons">
                <input id="btnEditSave" type="button" value="Save" data-bind="click:onSave" class="btn btn-primary btn-save" />
                <input id="btnEditClose" type="button" value="Close" data-bind="click: onClose" class="btn btn-default btn-close" />
            </div>
</form>
    </div>

</div> @* End of editWindow *@

<div id="ItemPriceDialog"
     data-role="window"
     data-modal="true"
     data-visible="false">
    @Html.Partial("ItemPriceDialog")
</div>
<div id="ItemVendorDialog"
     data-role="window"
     data-modal="true"
     data-visible="false">
    @Html.Partial("ItemVendorDialog")
</div>
<div id="ItemCostDialog"
     data-role="window"
     data-modal="true"
     data-visible="false">
    @Html.Partial("ItemCostDialog")
</div>

<style scoped>
ul.nav.nav-tabs.nav-tabs-item {
    height: 30px !important;
    padding: 4px 7px 0px 7px;
}
.nav-tabs > li > a {
    height: 30px;
    padding: 4px 7px 0px 7px;
}
</style>
